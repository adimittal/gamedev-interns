(function(d){Number.prototype.map=function(a,b,e,c){return e+(this-a)/(b-a)*(c-e)};Number.prototype.limit=function(a,b){return Math.min(b,Math.max(a,this))};Number.prototype.round=function(a){a=Math.pow(10,a||0);return Math.round(this*a)/a};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Object.defineProperty(Array.prototype,"erase",{value:function(a){for(var b=this.length;b--;)this[b]===a&&this.splice(b,1);return this}});Object.defineProperty(Array.prototype,"random",{value:function(a){return this[Math.floor(Math.random()*this.length)]}});Function.prototype.bind=Function.prototype.bind||function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),e=this,
c=function(){},d=function(){return e.apply(this instanceof c&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;d.prototype=new c;return d};d.ig={game:null,debug:null,version:"1.24",global:d,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:d.ImpactPrefix||"",lib:"/assets/game/revolt/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(a){return"#"==a.charAt(0)?document.getElementById(a.substr(1)):document.getElementsByTagName(a)},$new:function(a){return document.createElement(a)},
copy:function(a){if(!a||"object"!=typeof a||a instanceof HTMLElement||a instanceof ig.Class)return a;if(a instanceof Array)for(var b=[],e=0,c=a.length;e<c;e++)b[e]=ig.copy(a[e]);else for(e in b={},a)b[e]=ig.copy(a[e]);return b},merge:function(a,b){for(var e in b){var c=b[e];"object"!=typeof c||c instanceof HTMLElement||c instanceof ig.Class||null===c?a[e]=c:(a[e]&&"object"==typeof a[e]||(a[e]=c instanceof Array?[]:{}),ig.merge(a[e],c))}return a},ksort:function(a){if(!a||"object"!=typeof a)return[];
var b=[],e=[],c;for(c in a)b.push(c);b.sort();for(c=0;c<b.length;c++)e.push(a[b[c]]);return e},setVendorAttribute:function(a,b,e){var c=b.charAt(0).toUpperCase()+b.substr(1);a[b]=a["ms"+c]=a["moz"+c]=a["webkit"+c]=a["o"+c]=e},getVendorAttribute:function(a,b){var e=b.charAt(0).toUpperCase()+b.substr(1);return a[b]||a["ms"+e]||a["moz"+e]||a["webkit"+e]||a["o"+e]},normalizeVendorAttribute:function(a,b){var e=ig.getVendorAttribute(a,b);!a[b]&&e&&(a[b]=e)},getImagePixels:function(a,b,e,c,d){var l=ig.$new("canvas");
l.width=a.width;l.height=a.height;var g=l.getContext("2d");ig.System.SCALE.CRISP(l,g);var f=ig.getVendorAttribute(g,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(g,"getImageDataHD");var h=a.width/f,k=a.height/f;l.width=Math.ceil(h);l.height=Math.ceil(k);g.drawImage(a,0,0,h,k);return 1===f?g.getImageData(b,e,c,d):g.getImageDataHD(b,e,c,d)},module:function(a){if(ig._current)throw"Module '"+ig._current.name+"' defines nothing";if(ig.modules[a]&&ig.modules[a].body)throw"Module '"+a+"' is already defined";
ig._current={name:a,requires:[],loaded:!1,body:null};ig.modules[a]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(a){ig._current.body=a;ig._current=null;ig._initDOMReady()},addResource:function(a){ig.resources.push(a)},setNocache:function(a){ig.nocache=a?"?"+Date.now():""},log:function(){},assert:function(a,b){},show:function(a,b){},mark:function(a,b){},_loadScript:function(a,b){ig.modules[a]=
{name:a,requires:[],loaded:!1,body:null};ig._waitForOnload++;var e=ig.prefix+ig.lib+a.replace(/\./g,"/")+".js"+ig.nocache,c=ig.$new("script");c.type="text/javascript";c.src=e;c.onload=function(){ig._waitForOnload--;ig._execModules()};c.onerror=function(){throw"Failed to load module "+a+" at "+e+" required from "+b;};ig.$("head")[0].appendChild(c)},_execModules:function(){for(var a=!1,b=0;b<ig._loadQueue.length;b++){for(var e=ig._loadQueue[b],c=!0,d=0;d<e.requires.length;d++){var g=e.requires[d];ig.modules[g]?
ig.modules[g].loaded||(c=!1):(c=!1,ig._loadScript(g,e.name))}c&&e.body&&(ig._loadQueue.splice(b,1),e.loaded=!0,e.body(),a=!0,b--)}if(a)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){a=[];for(b=0;b<ig._loadQueue.length;b++){c=[];g=ig._loadQueue[b].requires;for(d=0;d<g.length;d++)(e=ig.modules[g[d]])&&e.loaded||c.push(g[d]);a.push(ig._loadQueue[b].name+" (requires: "+c.join(", ")+")")}throw"Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading:\n"+
a.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=d.devicePixelRatio||1;ig.ua.viewport={width:d.innerWidth,height:d.innerHeight};ig.ua.screen={width:d.screen.availWidth*ig.ua.pixelRatio,height:d.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);
ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.winPhone||/mobile/i.test(navigator.userAgent);ig.ua.touchDevice="ontouchstart"in d||d.navigator.msMaxTouchPoints},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],
loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),d.addEventListener("load",ig._DOMReady,!1)))}};ig.normalizeVendorAttribute(d,"requestAnimationFrame");if(d.requestAnimationFrame){var h=1,f={};d.ig.setAnimation=function(a,b){var e=h++;f[e]=!0;var c=function(){f[e]&&(d.requestAnimationFrame(c,b),a())};d.requestAnimationFrame(c,b);return e};d.ig.clearAnimation=function(a){delete f[a]}}else d.ig.setAnimation=
function(a,b){return d.setInterval(a,1E3/60)},d.ig.clearAnimation=function(a){d.clearInterval(a)};var g=!1,k=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/,n=0;d.ig.Class=function(){};var m=function(a){var b=this.prototype,e={},c;for(c in a)"function"==typeof a[c]&&"function"==typeof b[c]&&k.test(a[c])?(e[c]=b[c],b[c]=function(a,b){return function(){var c=this.parent;this.parent=e[a];var d=b.apply(this,arguments);this.parent=c;return d}}(c,a[c])):b[c]=a[c]};d.ig.Class.extend=function(a){function b(){if(!g){if(this.staticInstantiate){var a=
this.staticInstantiate.apply(this,arguments);if(a)return a}for(var b in this)"object"==typeof this[b]&&(this[b]=ig.copy(this[b]));this.init&&this.init.apply(this,arguments)}return this}var e=this.prototype;g=!0;var c=new this;g=!1;for(var f in a)"function"==typeof a[f]&&"function"==typeof e[f]&&k.test(a[f])?c[f]=function(a,b){return function(){var c=this.parent;this.parent=e[a];var d=b.apply(this,arguments);this.parent=c;return d}}(f,a[f]):c[f]=a[f];b.prototype=c;b.prototype.constructor=b;b.extend=
d.ig.Class.extend;b.inject=m;b.classId=c.classId=++n;return b};d.ImpactMixin&&ig.merge(ig,d.ImpactMixin)})(window);ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(d,h,f,g,k,n,m){ig.system=new ig.System(d,f,g,k,n||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;(new (m||ig.Loader)(h,ig.resources)).load()}});ig.module("main").requires("impact.game","impact.font","entities.question","entities.answer","entities.A","entities.B","entities.C","entities.D","entities.audience","entities.phone","entities.fifty","entities.walk","entities.Levels","entities.replay","levels.main","plugins.impact-splash-loader").defines(function(){MyGame=ig.Game.extend({font:new ig.Font("/assets/game/revolt/media/fonts/news_gothic_mt_16.font.png"),level_white_font:new ig.Font("/assets/game/revolt/media/fonts/arial_16.font.png"),
level_orange_font:new ig.Font("/assets/game/revolt/media/fonts/arial_16_orange_EA9502.font.png"),init:function(){ig.input.initMouse();ig.input.bind(ig.KEY.MOUSE1,"click");ig.input.bind(ig.KEY.UP_ARROW,"up");ig.input.bind(ig.KEY.DOWN_ARROW,"down");ig.input.bind(ig.KEY.A,"A");ig.input.bind(ig.KEY.B,"B");ig.input.bind(ig.KEY.C,"C");ig.input.bind(ig.KEY.D,"D");ig.input.bind(ig.KEY.MOUSE1,"leftButton");this.loadLevel(LevelMain);ig.system.drawLevels=!0},oval:function(d,f,h,m){ig.system.context.save();
ig.system.context.beginPath();ig.system.context.translate(d,f);ig.system.context.scale(h/2,m/2);ig.system.context.arc(1,1,1,0,2*Math.PI,!1);ig.system.context.closePath();ig.system.context.restore()},checkInButton:function(d){xPos=ig.input.mouse.x;yPos=ig.input.mouse.y;return d[0]<=xPos&&xPos<=d[0]+d[2]&&d[1]<=yPos&&yPos<=d[1]+d[3]?!0:!1},clearSession:function(){},update:function(){this.parent();window.onbeforeunload=this.clearSession},draw:function(){this.parent()}});var d,h,f=parseInt($("div#mainmenu").css("margin-top").replace("px",
""))+$("div#mainmenu").height(),f=0;h=window.innerWidth;d=.75*h;window.innerHeight-f<d&&(d=window.innerHeight-f,h=(window.innerHeight-f)/.75);ig.main("#canvas",MyGame,60,h,d,1,ig.ImpactSplashLoader)});
